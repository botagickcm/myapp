

-- Table: public.groups

-- DROP TABLE IF EXISTS public.groups;

CREATE TABLE IF NOT EXISTS public.groups
(
    group_id integer NOT NULL DEFAULT nextval('groups_id_seq'::regclass),
    group_name text COLLATE pg_catalog."default" NOT NULL,
    faculty text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT groups_pkey PRIMARY KEY (group_id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.groups
    OWNER to postgres;



-- Table: public.schedule

-- DROP TABLE IF EXISTS public.schedule;

CREATE TABLE IF NOT EXISTS public.schedule
(
    schedule_id integer NOT NULL DEFAULT nextval('schedule_schedule_id_seq'::regclass),
    day_of_week character varying(20) COLLATE pg_catalog."default" NOT NULL,
    group_id integer,
    faculty text COLLATE pg_catalog."default",
    start_time time without time zone,
    end_time time without time zone,
    lesson_name text COLLATE pg_catalog."default",
    CONSTRAINT schedule_pkey PRIMARY KEY (schedule_id),
    CONSTRAINT group_id FOREIGN KEY (group_id)
        REFERENCES public.groups (group_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT day_of_week_check CHECK (day_of_week::text = ANY (ARRAY['Понедельник'::character varying, 'Вторник'::character varying, 'Среда'::character varying, 'Четверг'::character varying, 'Пятница'::character varying, 'Суббота'::character varying]::text[]))
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.schedule
    OWNER to postgres;


-- Table: public.students

-- DROP TABLE IF EXISTS public.students;

CREATE TABLE IF NOT EXISTS public.students
(
    name text COLLATE pg_catalog."default",
    student_id integer NOT NULL DEFAULT nextval('students_id_seq'::regclass),
    surname text COLLATE pg_catalog."default",
    gender character varying(1) COLLATE pg_catalog."default",
    birthday date,
    group_id integer,
    CONSTRAINT fk_students_group FOREIGN KEY (group_id)
        REFERENCES public.groups (group_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE,
    CONSTRAINT gender_check CHECK (gender::text = ANY (ARRAY['М'::character varying, 'Ж'::character varying]::text[]))
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.students
    OWNER to postgres;



INSERT INTO public.groups(
	group_name, faculty)
	VALUES ('GR11', 'Инженеры'),
	('GR12', 'Инженеры'),
	('GR13', 'Инженеры'),
	('GR21', 'Гуманитарии'),
	('GR22', 'Гуманитарии');


INSERT INTO public.students(
    name, surname, gender, birthday, group_id) VALUES
    ('Анна', 'Иванова', 'Ж', '2003-05-15', 1),
    ('Мария', 'Петрова', 'Ж', '2002-08-22', 1),
    ('Екатерина', 'Сидорова', 'Ж', '2003-01-10', 2),
    ('Ольга', 'Смирнова', 'Ж', '2002-11-30', 2),
    ('Татьяна', 'Кузнецова', 'Ж', '2003-03-18', 3),
    ('Елена', 'Попова', 'Ж', '2002-07-25', 3),
    ('Наталья', 'Васильева', 'Ж', '2003-04-05', 4),
    ('Юлия', 'Федорова', 'Ж', '2002-12-12', 4),
    ('Александра', 'Морозова', 'Ж', '2003-02-28', 5),
    ('Ирина', 'Николаева', 'Ж', '2002-09-14', 5);



INSERT INTO schedule (day_of_week, group_id, faculty, start_time, end_time, lesson_name) VALUES
('Понедельник', 1, 'Инженеры', '08:30', '10:00', 'Высшая математика'),
('Понедельник', 1, 'Инженеры', '10:15', '11:45', 'Физика'),
('Понедельник', 1, 'Инженеры', '12:15', '13:45', 'Информатика'),
('Понедельник', NULL, 'Инженеры', '14:30', '16:00', 'Физкультура'), 
('Понедельник', 1, 'Инженеры', '16:15', '17:45', 'Сопромат'),

('Вторник', 1, 'Инженеры', '09:00', '10:30', 'Теоретическая механика'),
('Вторник', 1, 'Инженеры', '10:45', '12:15', 'Черчение'),
('Вторник', NULL, 'Инженеры', '13:00', '14:30', 'Иностранный язык'), 
('Вторник', 1, 'Инженеры', '14:45', '16:15', 'Материаловедение'),

('Среда', 1, 'Инженеры', '08:30', '10:00', 'Электротехника'),
('Среда', 1, 'Инженеры', '10:15', '11:45', 'Программирование'),
('Среда', 1, 'Инженеры', '12:30', '14:00', 'Базы данных'),
('Среда', NULL, 'Инженеры', '14:15', '15:45', 'История'),

('Четверг', 1, 'Инженеры', '09:00', '10:30', 'Термодинамика'),
('Четверг', 1, 'Инженеры', '10:45', '12:15', 'Детали машин'),
('Четверг', NULL, 'Инженеры', '13:00', '14:30', 'Экономика'),
('Четверг', 1, 'Инженеры', '14:45', '16:15', 'Начертательная геометрия'),

('Пятница', 1, 'Инженеры', '08:30', '10:00', 'Метрология'),
('Пятница', 1, 'Инженеры', '10:15', '11:45', 'Автоматизация'),
('Пятница', 1, 'Инженеры', '12:30', '14:00', 'Робототехника'),
('Пятница', NULL, 'Инженеры', '14:15', '15:45', 'Культурология');


INSERT INTO schedule (day_of_week, group_id, faculty, start_time, end_time, lesson_name) VALUES
('Понедельник', 2, 'Инженеры', '08:30', '10:00', 'Физика'),
('Понедельник', 2, 'Инженеры', '10:15', '11:45', 'Высшая математика'),
('Понедельник', 2, 'Инженеры', '12:15', '13:45', 'Схемотехника'),
('Понедельник', NULL, 'Инженеры', '14:30', '16:00', 'Физкультура'),
('Понедельник', 2, 'Инженеры', '16:15', '17:45', 'Электроника'),

('Вторник', 2, 'Инженеры', '09:00', '10:30', 'Черчение'),
('Вторник', 2, 'Инженеры', '10:45', '12:15', 'Теоретическая механика'),
('Вторник', NULL, 'Инженеры', '13:00', '14:30', 'Иностранный язык'),
('Вторник', 2, 'Инженеры', '14:45', '16:15', 'Гидравлика'),

('Среда', 2, 'Инженеры', '08:30', '10:00', 'Программирование'),
('Среда', 2, 'Инженеры', '10:15', '11:45', 'Электротехника'),
('Среда', 2, 'Инженеры', '12:30', '14:00', 'Сети и коммуникации'),
('Среда', NULL, 'Инженеры', '14:15', '15:45', 'История'),

('Четверг', 2, 'Инженеры', '09:00', '10:30', 'Детали машин'),
('Четверг', 2, 'Инженеры', '10:45', '12:15', 'Термодинамика'),
('Четверг', NULL, 'Инженеры', '13:00', '14:30', 'Экономика'),
('Четверг', 2, 'Инженеры', '14:45', '16:15', 'Теория механизмов'),

('Пятница', 2, 'Инженеры', '08:30', '10:00', 'Автоматизация'),
('Пятница', 2, 'Инженеры', '10:15', '11:45', 'Метрология'),
('Пятница', 2, 'Инженеры', '12:30', '14:00', 'Системы управления'),
('Пятница', NULL, 'Инженеры', '14:15', '15:45', 'Культурология');


INSERT INTO schedule (day_of_week, group_id, faculty, start_time, end_time, lesson_name) VALUES
('Понедельник', 3, 'Инженеры', '08:30', '10:00', 'Информатика'),
('Понедельник', 3, 'Инженеры', '10:15', '11:45', 'Сопромат'),
('Понедельник', 3, 'Инженеры', '12:15', '13:45', 'Высшая математика'),
('Понедельник', NULL, 'Инженеры', '14:30', '16:00', 'Физкультура'),
('Понедельник', 3, 'Инженеры', '16:15', '17:45', 'Физика'),

('Вторник', 3, 'Инженеры', '09:00', '10:30', 'Материаловедение'),
('Вторник', 3, 'Инженеры', '10:45', '12:15', 'Начертательная геометрия'),
('Вторник', NULL, 'Инженеры', '13:00', '14:30', 'Иностранный язык'),
('Вторник', 3, 'Инженеры', '14:45', '16:15', 'Теоретическая механика'),

('Среда', 3, 'Инженеры', '08:30', '10:00', 'Базы данных'),
('Среда', 3, 'Инженеры', '10:15', '11:45', 'Сети и коммуникации'),
('Среда', 3, 'Инженеры', '12:30', '14:00', 'Электротехника'),
('Среда', NULL, 'Инженеры', '14:15', '15:45', 'История'),

('Четверг', 3, 'Инженеры', '09:00', '10:30', 'Начертательная геометрия'),
('Четверг', 3, 'Инженеры', '10:45', '12:15', 'Детали машин'),
('Четверг', NULL, 'Инженеры', '13:00', '14:30', 'Экономика'),
('Четверг', 3, 'Инженеры', '14:45', '16:15', 'Термодинамика'),

('Пятница', 3, 'Инженеры', '08:30', '10:00', 'Робототехника'),
('Пятница', 3, 'Инженеры', '10:15', '11:45', 'Системы управления'),
('Пятница', 3, 'Инженеры', '12:30', '14:00', 'Автоматизация'),
('Пятница', NULL, 'Инженеры', '14:15', '15:45', 'Культурология');


INSERT INTO schedule (day_of_week, group_id, faculty, start_time, end_time, lesson_name) VALUES
('Понедельник', 4, 'Гуманитарии', '09:00', '10:30', 'История'),
('Понедельник', 4, 'Гуманитарии', '10:45', '12:15', 'Литература'),
('Понедельник', 4, 'Гуманитарии', '12:45', '14:15', 'Философия'),
('Понедельник', NULL, 'Гуманитарии', '14:30', '16:00', 'Физкультура'),
('Понедельник', 4, 'Гуманитарии', '16:15', '17:45', 'Иностранный язык'),

('Вторник', 4, 'Гуманитарии', '08:30', '10:00', 'Психология'),
('Вторник', 4, 'Гуманитарии', '10:15', '11:45', 'Культурология'),
('Вторник', NULL, 'Гуманитарии', '13:00', '14:30', 'Информатика'),
('Вторник', 4, 'Гуманитарии', '14:45', '16:15', 'Социология'),

('Среда', 4, 'Гуманитарии', '09:00', '10:30', 'Политология'),
('Среда', 4, 'Гуманитарии', '10:45', '12:15', 'Экономика'),
('Среда', 4, 'Гуманитарии', '13:00', '14:30', 'Право'),
('Среда', NULL, 'Гуманитарии', '15:00', '16:30', 'История искусств'),

('Четверг', 4, 'Гуманитарии', '08:30', '10:00', 'Лингвистика'),
('Четверг', 4, 'Гуманитарии', '10:15', '11:45', 'Литературный анализ'),
('Четверг', NULL, 'Гуманитарии', '12:30', '14:00', 'Математика'),
('Четверг', 4, 'Гуманитарии', '14:15', '15:45', 'Менеджмент'),

('Пятница', 4, 'Гуманитарии', '09:00', '10:30', 'Маркетинг'),
('Пятница', 4, 'Гуманитарии', '10:45', '12:15', 'Этика'),
('Пятница', 4, 'Гуманитарии', '13:00', '14:30', 'Риторика'),
('Пятница', NULL, 'Гуманитарии', '14:45', '16:15', 'Искусствоведение');


INSERT INTO schedule (day_of_week, group_id, faculty, start_time, end_time, lesson_name) VALUES
('Понедельник', 5, 'Гуманитарии', '08:30', '10:00', 'Литература'),
('Понедельник', 5, 'Гуманитарии', '10:15', '11:45', 'История'),
('Понедельник', 5, 'Гуманитарии', '12:30', '14:00', 'Философия'),
('Понедельник', NULL, 'Гуманитарии', '14:15', '15:45', 'Физкультура'),
('Понедельник', 5, 'Гуманитарии', '16:00', '17:30', 'Иностранный язык'),

('Вторник', 5, 'Гуманитарии', '09:00', '10:30', 'Культурология'),
('Вторник', 5, 'Гуманитарии', '10:45', '12:15', 'Психология'),
('Вторник', NULL, 'Гуманитарии', '13:00', '14:30', 'Информатика'),
('Вторник', 5, 'Гуманитарии', '14:45', '16:15', 'Социология'),

('Среда', 5, 'Гуманитарии', '08:30', '10:00', 'Экономика'),
('Среда', 5, 'Гуманитарии', '10:15', '11:45', 'Политология'),
('Среда', 5, 'Гуманитарии', '12:30', '14:00', 'Право'),
('Среда', NULL, 'Гуманитарии', '14:15', '15:45', 'История искусств'),

('Четверг', 5, 'Гуманитарии', '09:00', '10:30', 'Литературный анализ'),
('Четверг', 5, 'Гуманитарии', '10:45', '12:15', 'Лингвистика'),
('Четверг', NULL, 'Гуманитарии', '13:00', '14:30', 'Математика'),
('Четверг', 5, 'Гуманитарии', '14:45', '16:15', 'Менеджмент'),

('Пятница', 5, 'Гуманитарии', '08:30', '10:00', 'Этика'),
('Пятница', 5, 'Гуманитарии', '10:15', '11:45', 'Маркетинг'),
('Пятница', 5, 'Гуманитарии', '12:30', '14:00', 'Риторика'),
('Пятница', NULL, 'Гуманитарии', '14:15', '15:45', 'Искусствоведение');





SELECT *
FROM students
WHERE gender ='Ж'
ORDER BY birthday DESC;
